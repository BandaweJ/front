<div class="teacher-view-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner class="loading-spinner" diameter="60"></mat-spinner>
  </div>

  <!-- Error State -->
  <div *ngIf="errorMessage" class="error-container">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <h2 class="error-message">{{ errorMessage }}</h2>
    <button mat-raised-button color="primary" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Go Back
    </button>
  </div>

  <!-- Teacher Details -->
  <div *ngIf="teacher && !isLoading && !errorMessage">
    <!-- Title and Actions -->
    <div class="title">
      <h1>{{ teacher.title }} {{ teacher.name }} {{ teacher.surname }}</h1>
      <div class="action-buttons">
        <button mat-raised-button class="back-button" (click)="goBack()">
          <mat-icon>arrow_back</mat-icon>
          Back
        </button>
        <button mat-raised-button class="edit-button" (click)="editTeacher()">
          <mat-icon>edit</mat-icon>
          Edit
        </button>
        <button mat-raised-button class="delete-button" (click)="deleteTeacher()">
          <mat-icon>delete</mat-icon>
          Delete
        </button>
      </div>
    </div>

    <!-- Teacher Details Container -->
    <div class="teacher-details-container">
      <!-- Status Badge -->
      <div class="status-badge" [ngClass]="teacher.active ? 'active' : 'inactive'">
        {{ teacher.active ? 'Active' : 'Inactive' }}
      </div>

      <!-- Details Grid -->
      <div class="details-grid">
        <!-- Role Card (Full Width) -->
        <div class="detail-card role-card">
          <span class="detail-label">Role</span>
          <span class="detail-value">{{ teacher.role }}</span>
        </div>

        <!-- Personal Information -->
        <div class="detail-card">
          <span class="detail-label">Title</span>
          <span class="detail-value">{{ teacher.title }}</span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Surname</span>
          <span class="detail-value">{{ teacher.surname }}</span>
        </div>

        <div class="detail-card">
          <span class="detail-label">First Name</span>
          <span class="detail-value">{{ teacher.name }}</span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Teacher ID</span>
          <span class="detail-value">{{ teacher.id }}</span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Age</span>
          <span class="detail-value">{{ sharedService.calculateAge(teacher.dob) }} years</span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Gender</span>
          <span class="detail-value">
            <mat-icon>{{ teacher.gender === 'Male' ? 'male' : 'female' }}</mat-icon>
            {{ teacher.gender }}
          </span>
        </div>

        <!-- Contact Information -->
        <div class="detail-card">
          <span class="detail-label">Cell Phone</span>
          <span class="detail-value">
            <mat-icon>phone</mat-icon>
            {{ teacher.cell }}
          </span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Email Address</span>
          <span class="detail-value">
            <mat-icon>email</mat-icon>
            {{ teacher.email }}
          </span>
        </div>

        <div class="detail-card">
          <span class="detail-label">Address</span>
          <span class="detail-value">
            <mat-icon>location_on</mat-icon>
            {{ teacher.address }}
          </span>
        </div>

        <!-- Qualifications Card (Full Width) -->
        <div class="detail-card qualifications-card" *ngIf="teacher.qualifications">
          <span class="detail-label">Qualifications</span>
          <ul class="qualifications-list">
            <li *ngFor="let qualification of getQualificationsList()">
              <mat-icon>school</mat-icon>
              {{ qualification }}
            </li>
          </ul>
        </div>

        <!-- Employment Information -->
        <div class="detail-card">
          <span class="detail-label">Date of Joining</span>
          <span class="detail-value">
            <mat-icon>event</mat-icon>
            {{ teacher.dateOfJoining | date:'fullDate' }}
          </span>
        </div>

        <div class="detail-card" *ngIf="teacher.dateOfLeaving">
          <span class="detail-label">Date of Leaving</span>
          <span class="detail-value">
            <mat-icon>event_busy</mat-icon>
            {{ teacher.dateOfLeaving | date:'fullDate' }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>