<mat-card *ngIf="student" class="balances-card" [class.theme-dark]="currentTheme === 'dark'">
  <mat-card-header class="card-header-wrapper">
    <div class="card-header">
      <div class="header-icon-wrapper">
        <mat-icon class="header-icon">account_balance_wallet</mat-icon>
      </div>
      <div class="header-text">
        <h2 class="card-title">Student Balance Management</h2>
        <p class="card-subtitle">Add or adjust student account balance</p>
      </div>
    </div>
  </mat-card-header>

  <mat-card-content>
    <!-- Student Details Section -->
    <div class="student-details-section">
      <div class="section-header">
        <mat-icon class="section-icon">person</mat-icon>
        <h3 class="section-title">Student Information</h3>
      </div>
      <div class="student-details-container">
        <div class="student-detail-item">
          <div class="detail-icon-wrapper">
            <mat-icon class="detail-icon">badge</mat-icon>
          </div>
          <div class="detail-content">
            <span class="detail-label">Student Number</span>
            <span class="detail-value">{{ student.studentNumber }}</span>
          </div>
        </div>
        <div class="student-detail-item">
          <div class="detail-icon-wrapper">
            <mat-icon class="detail-icon">person</mat-icon>
          </div>
          <div class="detail-content">
            <span class="detail-label">Surname</span>
            <span class="detail-value">{{ student.surname }}</span>
          </div>
        </div>
        <div class="student-detail-item">
          <div class="detail-icon-wrapper">
            <mat-icon class="detail-icon">person_outline</mat-icon>
          </div>
          <div class="detail-content">
            <span class="detail-label">Name</span>
            <span class="detail-value">{{ student.name }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Balance Form Section -->
    <div class="form-section">
      <div class="section-header">
        <mat-icon class="section-icon">add_circle_outline</mat-icon>
        <h3 class="section-title">Add Balance</h3>
      </div>
      <form [formGroup]="balancesForm" (ngSubmit)="saveBalance()" class="balance-form">
        <div class="form-content">
          <mat-form-field appearance="outline" class="amount-field">
            <mat-label>Amount</mat-label>
            <mat-icon matPrefix class="field-icon">attach_money</mat-icon>
            <input type="number" matInput formControlName="amount" placeholder="0.00" step="0.01" min="0">
            <mat-hint>Enter the balance amount to add</mat-hint>
            <mat-error *ngIf="amount?.invalid && amount?.touched">
              <span *ngIf="amount?.errors?.['required']">Amount is required</span>
              <span *ngIf="amount?.errors?.['min']">Amount must be positive</span>
            </mat-error>
          </mat-form-field>

          <button 
            mat-raised-button 
            type="submit" 
            class="save-button"
            [disabled]="balancesForm.invalid">
            <mat-icon class="button-icon">save</mat-icon>
            <span class="button-text">Save Balance</span>
          </button>
        </div>
      </form>
    </div>
  </mat-card-content>
</mat-card>