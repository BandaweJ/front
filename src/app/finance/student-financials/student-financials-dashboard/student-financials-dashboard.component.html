<div class="financials-dashboard-container" [class.theme-dark]="currentTheme === 'dark'">
  <!-- Main Content -->
  <div class="dashboard-content">
    <!-- Header Section -->
    <div class="dashboard-header">
      <div class="header-content">
        <div class="welcome-section">
          <h1 class="dashboard-title">Student Financials</h1>
          <p class="dashboard-subtitle" *ngIf="studentName$ | async as studentName">
            Welcome back, {{ studentName }}
          </p>
          <p class="student-info" *ngIf="studentNumber$ | async as studentNumber">
            Student Number: {{ studentNumber }}
          </p>
        </div>
        
        <!-- Outstanding Balance Card -->
        <mat-card class="balance-card" role="region" aria-label="Outstanding balance">
          <div class="balance-content">
            <mat-icon class="balance-icon">account_balance_wallet</mat-icon>
            <div class="balance-details">
              <h3 class="balance-label">Outstanding Balance</h3>
              <div class="balance-amount">
                <ng-container *ngIf="outstandingBalance$ | async as balance; else loadingBalance">
                  <span class="balance-value">
                    {{ balance | currency:'USD':'symbol':'1.2-2' }}
                  </span>
                </ng-container>
                <ng-template #loadingBalance>
                  <span class="loading-balance">
                    <mat-spinner diameter="24"></mat-spinner>
                  </span>
                </ng-template>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="dashboard-tabs" role="tablist" aria-label="Financial sections">
      <div class="tab-list">
        <a *ngFor="let link of navLinks; let i = index" 
           [routerLink]="link.path" 
           routerLinkActive #rla="routerLinkActive"
           class="tab-link"
           [class.active]="rla.isActive"
           [attr.aria-selected]="rla.isActive"
           [attr.aria-controls]="link.path + '-panel'"
           role="tab">
          <mat-icon class="tab-icon">{{ link.icon }}</mat-icon>
          <div class="tab-content">
            <span class="tab-label">{{ link.label }}</span>
            <span class="tab-description">{{ link.description }}</span>
          </div>
        </a>
      </div>
    </nav>

    <!-- Tab Content -->
    <div class="tab-panel-container">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
