<mat-card 
  class="receipt-summary-card" 
  [class.theme-dark]="currentTheme === 'dark'"
  [class.voided-card]="receipt.isVoided"
  [class.approved-card]="receipt.approved && !receipt.isVoided"
  [class.pending-card]="!receipt.approved && !receipt.isVoided"
  (click)="!receipt.isVoided && viewDetails.emit(receipt)">
  
  <div *ngIf="receipt.isVoided" class="void-overlay">VOIDED</div>
  
  <mat-card-header>
    <mat-card-title class="amount-display">
      <span [class.strikethrough]="receipt.isVoided">
        {{ receipt.amountPaid | currency : 'USD' : 'symbol' : '1.2-2' }}
      </span>
    </mat-card-title>
    <mat-card-subtitle class="date-status" *ngIf="receipt.paymentDate">
      <span class="payment-date">{{ receipt.paymentDate | date : 'shortDate' }}</span>
      <span *ngIf="!receipt.approved && !receipt.isVoided" class="status-indicator status-pending">
        <mat-icon class="status-icon">pending_actions</mat-icon>
      </span>
      <span *ngIf="receipt.approved && !receipt.isVoided" class="status-indicator status-approved">
        <mat-icon class="status-icon">check_circle</mat-icon>
      </span>
      <span *ngIf="receipt.isVoided" class="status-indicator status-voided">
        <mat-icon class="status-icon">cancel</mat-icon>
      </span>
    </mat-card-subtitle>
  </mat-card-header>
  
  <mat-card-content>
    <div class="info-row student-info" *ngIf="receipt.student">
      <mat-icon class="info-icon">person</mat-icon>
      <span class="info-text">{{ receipt.student.name }} {{ receipt.student.surname }}</span>
    </div>
    <div class="info-row payment-info" *ngIf="receipt.paymentMethod">
      <mat-icon class="info-icon">credit_card</mat-icon>
      <span class="info-text">{{ receipt.paymentMethod }}</span>
    </div>
    <div class="info-row receipt-id" *ngIf="receipt.receiptNumber">
      <mat-icon class="info-icon">receipt</mat-icon>
      <span class="info-text">#{{ receipt.receiptNumber }}</span>
    </div>
  </mat-card-content>
</mat-card>